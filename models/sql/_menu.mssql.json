{
  "menu_main": [
    "select distinct menu.menu_name,menu.menu_desc,menu.menu_cmd,",
    "  menu.menu_subcmd,coalesce(menu.menu_seq,menu.menu_id) menu_seq,menu.menu_id from jsharmony.menu",
    "  inner join jsharmony.sys_menu_role on sys_menu_role.menu_id=menu.menu_id",
    "  inner join jsharmony.sys_role on sys_role.sys_role_name = sys_menu_role.sys_role_name",
    "  inner join (",
    "    select sys_role_name from jsharmony.sys_user_role where sys_user_id=jsharmony.my_sys_user_id()",
    "    union",
    "    select sys_user_site_access",
    "      from {schema}.sys_user_session",
    "        inner join {schema}.sys_user_site on sys_user_site.sys_user_id=sys_user_session.sys_user_id and sys_user_site.site_id=sys_user_session.site_id",
    "      where sys_user_session.sys_user_id=jsharmony.my_sys_user_id()",
    "  ) v_my_session_role on v_my_session_role.sys_role_name = sys_role.sys_role_name",
    "  where menu_id_parent = (select menu_id from jsharmony.menu where menu_name=@root_menu)",
    "  order by coalesce(menu.menu_seq,menu.menu_id),menu_name,menu.menu_id;",

    "select distinct menu.menu_name,menu.menu_desc,menu.menu_cmd,menu.menu_subcmd,coalesce(menu.menu_seq,menu.menu_id) menu_seq,menu.menu_id,menu_parent.menu_name menu_parent_name",
    "  from jsharmony.menu",
    "  inner join jsharmony.sys_menu_role on sys_menu_role.menu_id=menu.menu_id",
    "  inner join jsharmony.sys_role on sys_role.sys_role_name = sys_menu_role.sys_role_name",
    "  inner join (",
    "    select sys_role_name from jsharmony.sys_user_role where sys_user_id=jsharmony.my_sys_user_id()",
    "    union",
    "    select sys_user_site_access",
    "      from {schema}.sys_user_session",
    "        inner join {schema}.sys_user_site on sys_user_site.sys_user_id=sys_user_session.sys_user_id and sys_user_site.site_id=sys_user_session.site_id",
    "      where sys_user_session.sys_user_id=jsharmony.my_sys_user_id()",
    "  ) v_my_session_role on v_my_session_role.sys_role_name = sys_role.sys_role_name",
    "  inner join jsharmony.menu menu_parent on menu_parent.menu_id = menu.menu_id_parent",
    "  where menu_parent.menu_id_parent = (select menu_id from jsharmony.menu where menu_name=@root_menu)",
    "  order by menu_parent.menu_name,coalesce(menu.menu_seq,menu.menu_id),menu.menu_name,menu.menu_id;"
  ],
}