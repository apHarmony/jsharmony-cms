{
  "Page_Revision_Listing": {
    "layout":"grid",
    "table":"{schema}.page",
    "sqlwhere":"page_is_folder = 0",
    "actions":"B",
    "roles": {"AUTHOR": "B","PUBLISHER": "B","VIEWER":"B"},
    "caption":["Page","Pages"],
    "title":"Revision History",
    "reselectafteredit": "row",
    "sort":["vpage_mtstmp"],
    "grid_expand_search": true,
    "hide_system_buttons" : ["clear"],
    "rowclass":"<%=xejs.iif(datarow['page_id']==jsh.App[xmodel.parent].revision_page_id,'active_revision')%>",
    "fields": [
      {"name":"page_id","caption":"ID","control":"hidden","key":true},
      {"name":"revision_page_key","caption":"Revision Key","control":"hidden","sqlwhere":"page_key=@revision_page_key","sqlselect":"page_key"},
      {"name":"page_key","caption":"Key","control":"hidden"},
      {"name":"page_file_id","caption":"File ID","control":"hidden"},
      {"name":"page_filename","caption":"File Name","control":"hidden"},
      {"control":"html","caption":"","cellstyle":"text-align:center;","link":"js:jsh.App[jsh.XBase['jsHarmonyCMS/Page_Tree_Listing'][0]].previewFile(xmodel.controller.form.DataSet[jsh.XExt.XModel.GetRowID(modelid, this)]);","value":"<img height='14' src='/images/icon_browse.png' class='xicon' />"},
      {"name":"page_mtstmp","caption":"Modified","control":"label","actions":"B","format":["date","MM/DD/YYYY h:mm a"],"cellstyle":"white-space:nowrap;"},
      {"name":"page_muser_fmt","caption":"Modified By","sqlselect":"(jsharmony.my_db_user_fmt(page_muser))","control":"label","actions":"B"},
      {"name":"page_title","caption":"Title","control":"label"},
      {"name":"page_path","caption":"Path","control":"label","format":"js:return (val||'').toString().replace(/\\//g,'/\\u200B');"},
      {"name":"page_template_id","caption":"Template","control":"label","lov":{ "values": "#CMS_PAGE_TEMPLATES" }},
      {"name":"page_tags","caption":"Tags","control":"label"},
      {"name":"page_author_name","caption":"Author","actions":"B","control":"label","sqlselect":"jsharmony.get_sys_user_name(page_author)","cellstyle":"white-space:nowrap;"}
    ]
  }
}